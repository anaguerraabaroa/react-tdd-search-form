(this["webpackJsonpreact-tdd-search-app"]=this["webpackJsonpreact-tdd-search-app"]||[]).push([[0],{93:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(11),s=r.n(a),o=r(55),i=r.n(o),l=r(60),j=r(21),u=r(4),b=r(56),h=r.n(b),d=r(96),O=r(156),p=r(147),x=r(151),f=r(152),m=r(154),g=r(155),v=r(158),k=r(5),y=function(e){var t=e.isSearchApplied,r=e.reposList,n=e.children,c=function(e){return Object(k.jsx)(m.a,{display:"flex",alignItems:"center",justifyContent:"center",height:500,children:e})};return t&&r.length?n:t&&!r.length?c((function(){return Object(k.jsx)(d.a,{color:"error",children:"Your search has no results"})})):c((function(){return Object(k.jsx)(d.a,{children:"Please provide a search option and click in the search button"})}))},w=r(139),S=r(142),C=r(145),P=r(140),R=r(141),_=r(143),E=r(144),F=r(159),I=r(146),L=["Repository","Stars","Forks","Open issues","Updated at"],z=Object(w.a)({container:{maxHeight:440}}),A=Object(u.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,textTransform:"uppercase",fontWeight:700,textAlign:"center"},body:{color:e.palette.common.black,textAlign:"center"}}}))(P.a),D=function(e){var t=e.reposList,r=z();return Object(k.jsx)(R.a,{className:r.container,children:Object(k.jsxs)(S.a,{stickyHeader:!0,children:[Object(k.jsx)(_.a,{children:Object(k.jsx)(E.a,{children:L.map((function(e){return Object(k.jsx)(A,{children:e},e)}))})}),Object(k.jsx)(C.a,{children:t.map((function(e){var t=e.name,r=e.id,n=e.stargazers_count,c=e.forks_count,a=e.open_issues_count,s=e.updated_at,o=e.html_url,i=e.owner.avatar_url;return Object(k.jsxs)(E.a,{children:[Object(k.jsx)(A,{children:Object(k.jsxs)(m.a,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(k.jsx)(F.a,{alt:t,src:i}),Object(k.jsx)(I.a,{href:o,children:t})]})}),Object(k.jsx)(A,{children:n}),Object(k.jsx)(A,{children:c}),Object(k.jsx)(A,{children:a}),Object(k.jsx)(A,{children:s})]},r)}))})]})})},q=function(e){var t=e.q,r=e.rowsPerPage,n=e.currentPage;return fetch("".concat("https://api.github.com","/search/repositories?q=").concat(t,"&page=").concat(n,"&per_page=").concat(r))},H=Object(u.a)((function(e){return{root:{color:e.palette.common.white,backgroundColor:e.palette.common.black}}}))(p.a),M=Object(u.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"}}})(O.a),W=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),s=Object(j.a)(a,2),o=s[0],u=s[1],b=Object(n.useState)([]),O=Object(j.a)(b,2),p=O[0],w=O[1],S=Object(n.useState)(30),C=Object(j.a)(S,2),P=C[0],R=C[1],_=Object(n.useState)(0),E=Object(j.a)(_,2),F=E[0],I=E[1],L=Object(n.useState)(0),z=Object(j.a)(L,2),A=z[0],W=z[1],B=Object(n.useState)(!1),J=Object(j.a)(B,2),T=J[0],G=J[1],N=Object(n.useState)(""),U=Object(j.a)(N,2),Y=U[0],K=U[1],Q=Object(n.useRef)(!1),V=Object(n.useRef)(null),X=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,q({q:V.current.value,rowsPerPage:P,currentPage:F});case 4:if((t=e.sent).ok){e.next=7;break}throw t;case 7:return e.next=9,t.json();case 9:r=e.sent,w(r.items),W(r.total_count),u(!0),c(!1),e.next=23;break;case 16:return e.prev=16,e.t0=e.catch(0),e.next=20,e.t0.json();case 20:n=e.sent,G(!0),K(n.message);case 23:return e.prev=23,c(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,16,23,26]])}))),[P,F]);return Object(n.useEffect)((function(){Q.current?X():Q.current=!0}),[X]),Object(k.jsxs)(x.a,{children:[Object(k.jsxs)(m.a,{my:12,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",children:[Object(k.jsx)(h.a,{fontSize:"large"}),Object(k.jsx)(d.a,{variant:"h3",component:"h1",align:"center",children:Object(k.jsx)(m.a,{m:4,children:"Github Repositories List "})}),Object(k.jsx)(h.a,{fontSize:"large"})]}),Object(k.jsxs)(f.a,{container:!0,spacing:2,justify:"space-between",children:[Object(k.jsx)(f.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(M,{inputRef:V,fullWidth:!0,label:"Filter by",id:"filterby"})}),Object(k.jsx)(f.a,{item:!0,md:3,xs:12,children:Object(k.jsx)(H,{fullWidth:!0,disabled:r,onClick:function(){0!==F?I(0):X()},variant:"contained",children:"Search"})})]}),Object(k.jsx)(m.a,{my:4,children:Object(k.jsx)(y,{isSearchApplied:o,reposList:p,children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(D,{reposList:p}),Object(k.jsx)(g.a,{rowsPerPageOptions:[30,50,100],component:"div",count:A,rowsPerPage:P,page:F,onChangePage:function(e,t){I(t)},onChangeRowsPerPage:function(e){var t=e.target.value;I(0),R(t)}})]})})}),Object(k.jsx)(v.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:T,autoHideDuration:6e3,onClose:function(){return G(!1)},message:Y})]})},B=r(61),J=r(62),T=r(64),G=r(63),N=function(e){Object(T.a)(r,e);var t=Object(G.a)(r);function r(e){var n;return Object(B.a)(this,r),(n=t.call(this,e)).handleReloadClick=function(){return window.location.reload()},n.state={hasError:!1},n}return Object(J.a)(r,[{key:"render",value:function(){var e=this.props.children;return this.state.hasError?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.a,{variant:"h4",children:"There is an unexpected error"}),Object(k.jsx)(p.a,{type:"button",onClick:this.handleReloadClick,variant:"contained",color:"primary",children:"Reload"})]}):e}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),r}(c.a.Component);var U=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(N,{children:Object(k.jsx)(W,{})})})};s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(U,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.b46ff155.chunk.js.map